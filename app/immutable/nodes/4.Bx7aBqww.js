import{a as st,t as ut}from"../chunks/disclose-version.BHozzVJo.js";import{h as yn,k as Mt,a6 as vn,at as wn,ap as Mn,i as Tn,l as bn,U as Cn,p as qt,o as Zt,as as kn,a as xn,x as Tt,g as ne,v as le,q as Te,af as Je,s as be}from"../chunks/runtime.-plsBkaG.js";import{p as Qe,a as je}from"../chunks/props.CNLPtm4q.js";import{o as Xt,b as Jt}from"../chunks/index-client.DMpqzUzl.js";import{c as Un,i as Ke,a as bt,b as Ct,d as Dn,s as Se}from"../chunks/transform.CzLan8xH.js";import"../chunks/paths.C1ZaPD4c.js";function Sn(e,t,n){Mt&&vn();var r=e,i=Cn,a;yn(()=>{wn(i,i=t())&&(a&&Mn(a),a=Tn(()=>n(r)))}),Mt&&(r=bn)}function ke(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _n(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ct(e){let t,n,r;e.length!==2?(t=ke,n=(u,c)=>ke(e(u),c),r=(u,c)=>e(u)-c):(t=e===ke||e===_n?e:An,n=e,r=e);function i(u,c,s=0,g=u.length){if(s<g){if(t(c,c)!==0)return g;do{const l=s+g>>>1;n(u[l],c)<0?s=l+1:g=l}while(s<g)}return s}function a(u,c,s=0,g=u.length){if(s<g){if(t(c,c)!==0)return g;do{const l=s+g>>>1;n(u[l],c)<=0?s=l+1:g=l}while(s<g)}return s}function o(u,c,s=0,g=u.length){const l=i(u,c,s,g-1);return l>s&&r(u[l-1],c)>-r(u[l],c)?l-1:l}return{left:i,center:o,right:a}}function An(){return 0}function Fn(e){return e===null?NaN:+e}const Nn=ct(ke),Yn=Nn.right;ct(Fn).center;class et extends Map{constructor(t,n=Ln){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(kt(this,t))}has(t){return super.has(kt(this,t))}set(t,n){return super.set($n(this,t),n)}delete(t){return super.delete(In(this,t))}}function kt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function $n({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function In({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Ln(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Wn(e){return e}function En(e,t,...n){return Pn(e,Wn,t,n)}function Pn(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const u=new et,c=r[o++];let s=-1;for(const g of a){const l=c(g,++s,a),f=u.get(l);f?f.push(g):u.set(l,[g])}for(const[g,l]of u)u.set(g,i(l,o));return t(u)}(e,0)}const jn=Math.sqrt(50),Hn=Math.sqrt(10),Rn=Math.sqrt(2);function _e(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=jn?10:a>=Hn?5:a>=Rn?2:1;let u,c,s;return i<0?(s=Math.pow(10,-i)/o,u=Math.round(e*s),c=Math.round(t*s),u/s<e&&++u,c/s>t&&--c,s=-s):(s=Math.pow(10,i)*o,u=Math.round(e/s),c=Math.round(t/s),u*s<e&&++u,c*s>t&&--c),c<u&&.5<=n&&n<2?_e(e,t,n*2):[u,c,s]}function zn(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?_e(t,e,n):_e(e,t,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(o<0)for(let s=0;s<u;++s)c[s]=(a-s)/-o;else for(let s=0;s<u;++s)c[s]=(a-s)*o;else if(o<0)for(let s=0;s<u;++s)c[s]=(i+s)/-o;else for(let s=0;s<u;++s)c[s]=(i+s)*o;return c}function tt(e,t,n){return t=+t,e=+e,n=+n,_e(e,t,n)[2]}function nt(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?tt(t,e,n):tt(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function On(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function xt(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Vn(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Gn(e,t=ke){if(t.length===1)return Vn(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?t(a,a)===0:t(a,n)<0)&&(n=a,r=i);return r}function Bn(e){return e}var He=1,Re=2,rt=3,Ce=4,Ut=1e-6;function qn(e){return"translate("+e+",0)"}function Zn(e){return"translate(0,"+e+")"}function Xn(e){return t=>+e(t)}function Jn(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Qn(){return!this.__axis}function Qt(e,t){var n=[],r=null,i=null,a=6,o=6,u=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=e===He||e===Ce?-1:1,g=e===Ce||e===Re?"x":"y",l=e===He||e===rt?qn:Zn;function f(m){var y=r??(t.ticks?t.ticks.apply(t,n):t.domain()),C=i??(t.tickFormat?t.tickFormat.apply(t,n):Bn),S=Math.max(a,0)+u,T=t.range(),F=+T[0]+c,x=+T[T.length-1]+c,_=(t.bandwidth?Jn:Xn)(t.copy(),c),k=m.selection?m.selection():m,p=k.selectAll(".domain").data([null]),M=k.selectAll(".tick").data(y,t).order(),$=M.exit(),V=M.enter().append("g").attr("class","tick"),W=M.select("line"),v=M.select("text");p=p.merge(p.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(V),W=W.merge(V.append("line").attr("stroke","currentColor").attr(g+"2",s*a)),v=v.merge(V.append("text").attr("fill","currentColor").attr(g,s*S).attr("dy",e===He?"0em":e===rt?"0.71em":"0.32em")),m!==k&&(p=p.transition(m),M=M.transition(m),W=W.transition(m),v=v.transition(m),$=$.transition(m).attr("opacity",Ut).attr("transform",function(Y){return isFinite(Y=_(Y))?l(Y+c):this.getAttribute("transform")}),V.attr("opacity",Ut).attr("transform",function(Y){var N=this.parentNode.__axis;return l((N&&isFinite(N=N(Y))?N:_(Y))+c)})),$.remove(),p.attr("d",e===Ce||e===Re?o?"M"+s*o+","+F+"H"+c+"V"+x+"H"+s*o:"M"+c+","+F+"V"+x:o?"M"+F+","+s*o+"V"+c+"H"+x+"V"+s*o:"M"+F+","+c+"H"+x),M.attr("opacity",1).attr("transform",function(Y){return l(_(Y)+c)}),W.attr(g+"2",s*a),v.attr(g,s*S).text(C),k.filter(Qn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Re?"start":e===Ce?"end":"middle"),k.each(function(){this.__axis=_})}return f.scale=function(m){return arguments.length?(t=m,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),f):n.slice()},f.tickValues=function(m){return arguments.length?(r=m==null?null:Array.from(m),f):r&&r.slice()},f.tickFormat=function(m){return arguments.length?(i=m,f):i},f.tickSize=function(m){return arguments.length?(a=o=+m,f):a},f.tickSizeInner=function(m){return arguments.length?(a=+m,f):a},f.tickSizeOuter=function(m){return arguments.length?(o=+m,f):o},f.tickPadding=function(m){return arguments.length?(u=+m,f):u},f.offset=function(m){return arguments.length?(c=+m,f):c},f}function Kn(e){return Qt(rt,e)}function er(e){return Qt(Ce,e)}function tr(e){let t;for(;t=e.sourceEvent;)e=t;return e}function nr(e,t){if(e=tr(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function rr(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function ir(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ar(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=lt(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function or(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function sr(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=lt(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}function lt(e,t){var n=typeof t,r;return t==null||n==="boolean"?Un(t):(n==="number"?Ke:n==="string"?(r=bt(t))?(t=r,Ct):Dn:t instanceof bt?Ct:t instanceof Date?or:ir(t)?rr:Array.isArray(t)?ar:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sr:Ke)(e,t)}function ur(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const it=Math.PI,at=2*it,re=1e-6,cr=at-re;function Kt(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function lr(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Kt;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class fr{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Kt:lr(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,c=r-t,s=i-n,g=o-t,l=u-n,f=g*g+l*l;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>re)if(!(Math.abs(l*c-s*g)>re)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,y=i-u,C=c*c+s*s,S=m*m+y*y,T=Math.sqrt(C),F=Math.sqrt(f),x=a*Math.tan((it-Math.acos((C+f-S)/(2*T*F)))/2),_=x/F,k=x/T;Math.abs(_-1)>re&&this._append`L${t+_*g},${n+_*l}`,this._append`A${a},${a},0,0,${+(l*m>g*y)},${this._x1=t+k*c},${this._y1=n+k*s}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),s=t+u,g=n+c,l=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${s},${g}`:(Math.abs(this._x1-s)>re||Math.abs(this._y1-g)>re)&&this._append`L${s},${g}`,r&&(f<0&&(f=f%at+at),f>cr?this._append`A${r},${r},0,1,${l},${t-u},${n-c}A${r},${r},0,1,${l},${this._x1=s},${this._y1=g}`:f>re&&this._append`A${r},${r},0,${+(f>=it)},${l},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var Dt={},ze={},Oe=34,ye=10,Ve=13;function en(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function hr(e,t){var n=en(e);return function(r,i){return t(n(r),i,e)}}function St(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function P(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function gr(e){return e<0?"-"+P(-e,6):e>9999?"+"+P(e,6):P(e,4)}function mr(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":gr(e.getUTCFullYear())+"-"+P(e.getUTCMonth()+1,2)+"-"+P(e.getUTCDate(),2)+(i?"T"+P(t,2)+":"+P(n,2)+":"+P(r,2)+"."+P(i,3)+"Z":r?"T"+P(t,2)+":"+P(n,2)+":"+P(r,2)+"Z":n||t?"T"+P(t,2)+":"+P(n,2)+"Z":"")}function dr(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(l,f){var m,y,C=i(l,function(S,T){if(m)return m(S,T-1);y=S,m=f?hr(S,f):en(S)});return C.columns=y||[],C}function i(l,f){var m=[],y=l.length,C=0,S=0,T,F=y<=0,x=!1;l.charCodeAt(y-1)===ye&&--y,l.charCodeAt(y-1)===Ve&&--y;function _(){if(F)return ze;if(x)return x=!1,Dt;var p,M=C,$;if(l.charCodeAt(M)===Oe){for(;C++<y&&l.charCodeAt(C)!==Oe||l.charCodeAt(++C)===Oe;);return(p=C)>=y?F=!0:($=l.charCodeAt(C++))===ye?x=!0:$===Ve&&(x=!0,l.charCodeAt(C)===ye&&++C),l.slice(M+1,p-1).replace(/""/g,'"')}for(;C<y;){if(($=l.charCodeAt(p=C++))===ye)x=!0;else if($===Ve)x=!0,l.charCodeAt(C)===ye&&++C;else if($!==n)continue;return l.slice(M,p)}return F=!0,l.slice(M,y)}for(;(T=_())!==ze;){for(var k=[];T!==Dt&&T!==ze;)k.push(T),T=_();f&&(k=f(k,S++))==null||m.push(k)}return m}function a(l,f){return l.map(function(m){return f.map(function(y){return g(m[y])}).join(e)})}function o(l,f){return f==null&&(f=St(l)),[f.map(g).join(e)].concat(a(l,f)).join(`
`)}function u(l,f){return f==null&&(f=St(l)),a(l,f).join(`
`)}function c(l){return l.map(s).join(`
`)}function s(l){return l.map(g).join(e)}function g(l){return l==null?"":l instanceof Date?mr(l):t.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l}return{parse:r,parseRows:i,format:o,formatBody:u,formatRows:c,formatRow:s,formatValue:g}}var pr=dr(","),yr=pr.parse;function vr(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function wr(e,t){return fetch(e,t).then(vr)}function Mr(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),wr(t,n).then(function(i){return e(i,r)})}}var Tr=Mr(yr);function br(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ae(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ge(e){return e=Ae(Math.abs(e)),e?e[1]:NaN}function Cr(e,t){return function(n,r){for(var i=n.length,a=[],o=0,u=e[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=e[o=(o+1)%e.length];return a.reverse().join(t)}}function kr(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var xr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fe(e){if(!(t=xr.exec(e)))throw new Error("invalid format: "+e);var t;return new ft({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fe.prototype=ft.prototype;function ft(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ft.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ur(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var tn;function Dr(e,t){var n=Ae(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(tn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ae(e,Math.max(0,t+a-1))[0]}function _t(e,t){var n=Ae(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const At={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:br,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_t(e*100,t),r:_t,s:Dr,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ft(e){return e}var Nt=Array.prototype.map,Yt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Sr(e){var t=e.grouping===void 0||e.thousands===void 0?Ft:Cr(Nt.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Ft:kr(Nt.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function s(l){l=Fe(l);var f=l.fill,m=l.align,y=l.sign,C=l.symbol,S=l.zero,T=l.width,F=l.comma,x=l.precision,_=l.trim,k=l.type;k==="n"?(F=!0,k="g"):At[k]||(x===void 0&&(x=12),_=!0,k="g"),(S||f==="0"&&m==="=")&&(S=!0,f="0",m="=");var p=C==="$"?n:C==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",M=C==="$"?r:/[%p]/.test(k)?o:"",$=At[k],V=/[defgprs%]/.test(k);x=x===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function W(v){var Y=p,N=M,G,se,B;if(k==="c")N=$(v)+N,v="";else{v=+v;var j=v<0||1/v<0;if(v=isNaN(v)?c:$(Math.abs(v),x),_&&(v=Ur(v)),j&&+v==0&&y!=="+"&&(j=!1),Y=(j?y==="("?y:u:y==="-"||y==="("?"":y)+Y,N=(k==="s"?Yt[8+tn/3]:"")+N+(j&&y==="("?")":""),V){for(G=-1,se=v.length;++G<se;)if(B=v.charCodeAt(G),48>B||B>57){N=(B===46?i+v.slice(G+1):v.slice(G))+N,v=v.slice(0,G);break}}}F&&!S&&(v=t(v,1/0));var K=Y.length+v.length+N.length,H=K<T?new Array(T-K+1).join(f):"";switch(F&&S&&(v=t(H+v,H.length?T-N.length:1/0),H=""),m){case"<":v=Y+v+N+H;break;case"=":v=Y+H+v+N;break;case"^":v=H.slice(0,K=H.length>>1)+Y+v+N+H.slice(K);break;default:v=H+Y+v+N;break}return a(v)}return W.toString=function(){return l+""},W}function g(l,f){var m=s((l=Fe(l),l.type="f",l)),y=Math.max(-8,Math.min(8,Math.floor(ge(f)/3)))*3,C=Math.pow(10,-y),S=Yt[8+y/3];return function(T){return m(C*T)+S}}return{format:s,formatPrefix:g}}var De,nn,rn;_r({thousands:",",grouping:[3],currency:["$",""]});function _r(e){return De=Sr(e),nn=De.format,rn=De.formatPrefix,De}function Ar(e){return Math.max(0,-ge(Math.abs(e)))}function Fr(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ge(t)/3)))*3-ge(Math.abs(e)))}function Nr(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ge(t)-ge(e))+1}function ht(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const $t=Symbol("implicit");function gt(){var e=new et,t=[],n=[],r=$t;function i(a){let o=e.get(a);if(o===void 0){if(r!==$t)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new et;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return gt(t,n).unknown(r)},ht.apply(i,arguments),i}function Yr(e){return function(){return e}}function $r(e){return+e}var It=[0,1];function fe(e){return e}function ot(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Yr(isNaN(t)?NaN:.5)}function Ir(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Lr(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=ot(i,r),a=n(o,a)):(r=ot(r,i),a=n(a,o)),function(u){return a(r(u))}}function Wr(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=ot(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(u){var c=Yn(e,u,1,r)-1;return a[c](i[c](u))}}function an(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Er(){var e=It,t=It,n=lt,r,i,a,o=fe,u,c,s;function g(){var f=Math.min(e.length,t.length);return o!==fe&&(o=Ir(e[0],e[f-1])),u=f>2?Wr:Lr,c=s=null,l}function l(f){return f==null||isNaN(f=+f)?a:(c||(c=u(e.map(r),t,n)))(r(o(f)))}return l.invert=function(f){return o(i((s||(s=u(t,e.map(r),Ke)))(f)))},l.domain=function(f){return arguments.length?(e=Array.from(f,$r),g()):e.slice()},l.range=function(f){return arguments.length?(t=Array.from(f),g()):t.slice()},l.rangeRound=function(f){return t=Array.from(f),n=ur,g()},l.clamp=function(f){return arguments.length?(o=f?!0:fe,g()):o!==fe},l.interpolate=function(f){return arguments.length?(n=f,g()):n},l.unknown=function(f){return arguments.length?(a=f,l):a},function(f,m){return r=f,i=m,g()}}function on(){return Er()(fe,fe)}function Pr(e,t,n,r){var i=nt(e,t,n),a;switch(r=Fe(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Fr(i,o))&&(r.precision=a),rn(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Nr(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Ar(i))&&(r.precision=a-(r.type==="%")*2);break}}return nn(r)}function jr(e){var t=e.domain;return e.ticks=function(n){var r=t();return zn(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Pr(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],u=r[a],c,s,g=10;for(u<o&&(s=o,o=u,u=s,s=i,i=a,a=s);g-- >0;){if(s=tt(o,u,n),s===c)return r[i]=o,r[a]=u,t(r);if(s>0)o=Math.floor(o/s)*s,u=Math.ceil(u/s)*s;else if(s<0)o=Math.ceil(o*s)/s,u=Math.floor(u*s)/s;else break;c=s}return e},e}function sn(){var e=on();return e.copy=function(){return an(e,sn())},ht.apply(e,arguments),jr(e)}function Hr(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}const Ge=new Date,Be=new Date;function I(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return c;let s;do c.push(s=new Date(+a)),t(a,u),e(a);while(s<a&&a<o);return c},i.filter=a=>I(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!a(o););else for(;--u>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(Ge.setTime(+a),Be.setTime(+o),e(Ge),e(Be),Math.floor(n(Ge,Be))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ne=I(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ne.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?I(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ne);Ne.range;const Z=1e3,O=Z*60,X=O*60,J=X*24,mt=J*7,Lt=J*30,qe=J*365,he=I(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Z)},(e,t)=>(t-e)/Z,e=>e.getUTCSeconds());he.range;const dt=I(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Z)},(e,t)=>{e.setTime(+e+t*O)},(e,t)=>(t-e)/O,e=>e.getMinutes());dt.range;const Rr=I(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*O)},(e,t)=>(t-e)/O,e=>e.getUTCMinutes());Rr.range;const pt=I(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Z-e.getMinutes()*O)},(e,t)=>{e.setTime(+e+t*X)},(e,t)=>(t-e)/X,e=>e.getHours());pt.range;const zr=I(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*X)},(e,t)=>(t-e)/X,e=>e.getUTCHours());zr.range;const xe=I(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*O)/J,e=>e.getDate()-1);xe.range;const yt=I(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/J,e=>e.getUTCDate()-1);yt.range;const Or=I(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/J,e=>Math.floor(e/J));Or.range;function ae(e){return I(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*O)/mt)}const Ie=ae(0),Ye=ae(1),Vr=ae(2),Gr=ae(3),me=ae(4),Br=ae(5),qr=ae(6);Ie.range;Ye.range;Vr.range;Gr.range;me.range;Br.range;qr.range;function oe(e){return I(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/mt)}const un=oe(0),$e=oe(1),Zr=oe(2),Xr=oe(3),de=oe(4),Jr=oe(5),Qr=oe(6);un.range;$e.range;Zr.range;Xr.range;de.range;Jr.range;Qr.range;const vt=I(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vt.range;const Kr=I(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Kr.range;const Q=I(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Q.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:I(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Q.range;const ie=I(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ie.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:I(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ie.range;function ei(e,t,n,r,i,a){const o=[[he,1,Z],[he,5,5*Z],[he,15,15*Z],[he,30,30*Z],[a,1,O],[a,5,5*O],[a,15,15*O],[a,30,30*O],[i,1,X],[i,3,3*X],[i,6,6*X],[i,12,12*X],[r,1,J],[r,2,2*J],[n,1,mt],[t,1,Lt],[t,3,3*Lt],[e,1,qe]];function u(s,g,l){const f=g<s;f&&([s,g]=[g,s]);const m=l&&typeof l.range=="function"?l:c(s,g,l),y=m?m.range(s,+g+1):[];return f?y.reverse():y}function c(s,g,l){const f=Math.abs(g-s)/l,m=ct(([,,S])=>S).right(o,f);if(m===o.length)return e.every(nt(s/qe,g/qe,l));if(m===0)return Ne.every(Math.max(nt(s,g,l),1));const[y,C]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return y.every(C)}return[u,c]}const[ti,ni]=ei(Q,vt,Ie,xe,pt,dt);function Ze(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Xe(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ve(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function ri(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,u=e.months,c=e.shortMonths,s=we(i),g=Me(i),l=we(a),f=Me(a),m=we(o),y=Me(o),C=we(u),S=Me(u),T=we(c),F=Me(c),x={a:j,A:K,b:H,B:Le,c:null,d:Rt,e:Rt,f:Ui,g:Li,G:Ei,H:Ci,I:ki,j:xi,L:cn,m:Di,M:Si,p:w,q,Q:Vt,s:Gt,S:_i,u:Ai,U:Fi,V:Ni,w:Yi,W:$i,x:null,X:null,y:Ii,Y:Wi,Z:Pi,"%":Ot},_={a:We,A:Ue,b:Ee,B:Pe,c:null,d:zt,e:zt,f:zi,g:Ki,G:ta,H:ji,I:Hi,j:Ri,L:fn,m:Oi,M:Vi,p:pe,q:ee,Q:Vt,s:Gt,S:Gi,u:Bi,U:qi,V:Zi,w:Xi,W:Ji,x:null,X:null,y:Qi,Y:ea,Z:na,"%":Ot},k={a:W,A:v,b:Y,B:N,c:G,d:jt,e:jt,f:wi,g:Pt,G:Et,H:Ht,I:Ht,j:di,L:vi,m:mi,M:pi,p:V,q:gi,Q:Ti,s:bi,S:yi,u:ui,U:ci,V:li,w:si,W:fi,x:se,X:B,y:Pt,Y:Et,Z:hi,"%":Mi};x.x=p(n,x),x.X=p(r,x),x.c=p(t,x),_.x=p(n,_),_.X=p(r,_),_.c=p(t,_);function p(d,b){return function(U){var h=[],E=-1,A=0,R=d.length,z,te,wt;for(U instanceof Date||(U=new Date(+U));++E<R;)d.charCodeAt(E)===37&&(h.push(d.slice(A,E)),(te=Wt[z=d.charAt(++E)])!=null?z=d.charAt(++E):te=z==="e"?" ":"0",(wt=b[z])&&(z=wt(U,te)),h.push(z),A=E+1);return h.push(d.slice(A,E)),h.join("")}}function M(d,b){return function(U){var h=ve(1900,void 0,1),E=$(h,d,U+="",0),A,R;if(E!=U.length)return null;if("Q"in h)return new Date(h.Q);if("s"in h)return new Date(h.s*1e3+("L"in h?h.L:0));if(b&&!("Z"in h)&&(h.Z=0),"p"in h&&(h.H=h.H%12+h.p*12),h.m===void 0&&(h.m="q"in h?h.q:0),"V"in h){if(h.V<1||h.V>53)return null;"w"in h||(h.w=1),"Z"in h?(A=Xe(ve(h.y,0,1)),R=A.getUTCDay(),A=R>4||R===0?$e.ceil(A):$e(A),A=yt.offset(A,(h.V-1)*7),h.y=A.getUTCFullYear(),h.m=A.getUTCMonth(),h.d=A.getUTCDate()+(h.w+6)%7):(A=Ze(ve(h.y,0,1)),R=A.getDay(),A=R>4||R===0?Ye.ceil(A):Ye(A),A=xe.offset(A,(h.V-1)*7),h.y=A.getFullYear(),h.m=A.getMonth(),h.d=A.getDate()+(h.w+6)%7)}else("W"in h||"U"in h)&&("w"in h||(h.w="u"in h?h.u%7:"W"in h?1:0),R="Z"in h?Xe(ve(h.y,0,1)).getUTCDay():Ze(ve(h.y,0,1)).getDay(),h.m=0,h.d="W"in h?(h.w+6)%7+h.W*7-(R+5)%7:h.w+h.U*7-(R+6)%7);return"Z"in h?(h.H+=h.Z/100|0,h.M+=h.Z%100,Xe(h)):Ze(h)}}function $(d,b,U,h){for(var E=0,A=b.length,R=U.length,z,te;E<A;){if(h>=R)return-1;if(z=b.charCodeAt(E++),z===37){if(z=b.charAt(E++),te=k[z in Wt?b.charAt(E++):z],!te||(h=te(d,U,h))<0)return-1}else if(z!=U.charCodeAt(h++))return-1}return h}function V(d,b,U){var h=s.exec(b.slice(U));return h?(d.p=g.get(h[0].toLowerCase()),U+h[0].length):-1}function W(d,b,U){var h=m.exec(b.slice(U));return h?(d.w=y.get(h[0].toLowerCase()),U+h[0].length):-1}function v(d,b,U){var h=l.exec(b.slice(U));return h?(d.w=f.get(h[0].toLowerCase()),U+h[0].length):-1}function Y(d,b,U){var h=T.exec(b.slice(U));return h?(d.m=F.get(h[0].toLowerCase()),U+h[0].length):-1}function N(d,b,U){var h=C.exec(b.slice(U));return h?(d.m=S.get(h[0].toLowerCase()),U+h[0].length):-1}function G(d,b,U){return $(d,t,b,U)}function se(d,b,U){return $(d,n,b,U)}function B(d,b,U){return $(d,r,b,U)}function j(d){return o[d.getDay()]}function K(d){return a[d.getDay()]}function H(d){return c[d.getMonth()]}function Le(d){return u[d.getMonth()]}function w(d){return i[+(d.getHours()>=12)]}function q(d){return 1+~~(d.getMonth()/3)}function We(d){return o[d.getUTCDay()]}function Ue(d){return a[d.getUTCDay()]}function Ee(d){return c[d.getUTCMonth()]}function Pe(d){return u[d.getUTCMonth()]}function pe(d){return i[+(d.getUTCHours()>=12)]}function ee(d){return 1+~~(d.getUTCMonth()/3)}return{format:function(d){var b=p(d+="",x);return b.toString=function(){return d},b},parse:function(d){var b=M(d+="",!1);return b.toString=function(){return d},b},utcFormat:function(d){var b=p(d+="",_);return b.toString=function(){return d},b},utcParse:function(d){var b=M(d+="",!0);return b.toString=function(){return d},b}}}var Wt={"-":"",_:" ",0:"0"},L=/^\s*\d+/,ii=/^%/,ai=/[\\^$*+?|[\]().{}]/g;function D(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function oi(e){return e.replace(ai,"\\$&")}function we(e){return new RegExp("^(?:"+e.map(oi).join("|")+")","i")}function Me(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function si(e,t,n){var r=L.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ui(e,t,n){var r=L.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ci(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function li(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function fi(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Et(e,t,n){var r=L.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Pt(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hi(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gi(e,t,n){var r=L.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function mi(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function jt(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function di(e,t,n){var r=L.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Ht(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function pi(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function yi(e,t,n){var r=L.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function vi(e,t,n){var r=L.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function wi(e,t,n){var r=L.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Mi(e,t,n){var r=ii.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ti(e,t,n){var r=L.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function bi(e,t,n){var r=L.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Rt(e,t){return D(e.getDate(),t,2)}function Ci(e,t){return D(e.getHours(),t,2)}function ki(e,t){return D(e.getHours()%12||12,t,2)}function xi(e,t){return D(1+xe.count(Q(e),e),t,3)}function cn(e,t){return D(e.getMilliseconds(),t,3)}function Ui(e,t){return cn(e,t)+"000"}function Di(e,t){return D(e.getMonth()+1,t,2)}function Si(e,t){return D(e.getMinutes(),t,2)}function _i(e,t){return D(e.getSeconds(),t,2)}function Ai(e){var t=e.getDay();return t===0?7:t}function Fi(e,t){return D(Ie.count(Q(e)-1,e),t,2)}function ln(e){var t=e.getDay();return t>=4||t===0?me(e):me.ceil(e)}function Ni(e,t){return e=ln(e),D(me.count(Q(e),e)+(Q(e).getDay()===4),t,2)}function Yi(e){return e.getDay()}function $i(e,t){return D(Ye.count(Q(e)-1,e),t,2)}function Ii(e,t){return D(e.getFullYear()%100,t,2)}function Li(e,t){return e=ln(e),D(e.getFullYear()%100,t,2)}function Wi(e,t){return D(e.getFullYear()%1e4,t,4)}function Ei(e,t){var n=e.getDay();return e=n>=4||n===0?me(e):me.ceil(e),D(e.getFullYear()%1e4,t,4)}function Pi(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+D(t/60|0,"0",2)+D(t%60,"0",2)}function zt(e,t){return D(e.getUTCDate(),t,2)}function ji(e,t){return D(e.getUTCHours(),t,2)}function Hi(e,t){return D(e.getUTCHours()%12||12,t,2)}function Ri(e,t){return D(1+yt.count(ie(e),e),t,3)}function fn(e,t){return D(e.getUTCMilliseconds(),t,3)}function zi(e,t){return fn(e,t)+"000"}function Oi(e,t){return D(e.getUTCMonth()+1,t,2)}function Vi(e,t){return D(e.getUTCMinutes(),t,2)}function Gi(e,t){return D(e.getUTCSeconds(),t,2)}function Bi(e){var t=e.getUTCDay();return t===0?7:t}function qi(e,t){return D(un.count(ie(e)-1,e),t,2)}function hn(e){var t=e.getUTCDay();return t>=4||t===0?de(e):de.ceil(e)}function Zi(e,t){return e=hn(e),D(de.count(ie(e),e)+(ie(e).getUTCDay()===4),t,2)}function Xi(e){return e.getUTCDay()}function Ji(e,t){return D($e.count(ie(e)-1,e),t,2)}function Qi(e,t){return D(e.getUTCFullYear()%100,t,2)}function Ki(e,t){return e=hn(e),D(e.getUTCFullYear()%100,t,2)}function ea(e,t){return D(e.getUTCFullYear()%1e4,t,4)}function ta(e,t){var n=e.getUTCDay();return e=n>=4||n===0?de(e):de.ceil(e),D(e.getUTCFullYear()%1e4,t,4)}function na(){return"+0000"}function Ot(){return"%"}function Vt(e){return+e}function Gt(e){return Math.floor(+e/1e3)}var ue,gn,mn;ra({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ra(e){return ue=ri(e),gn=ue.format,mn=ue.parse,ue.utcFormat,ue.utcParse,ue}function ia(e){return new Date(e)}function aa(e){return e instanceof Date?+e:+new Date(+e)}function dn(e,t,n,r,i,a,o,u,c,s){var g=on(),l=g.invert,f=g.domain,m=s(".%L"),y=s(":%S"),C=s("%I:%M"),S=s("%I %p"),T=s("%a %d"),F=s("%b %d"),x=s("%B"),_=s("%Y");function k(p){return(c(p)<p?m:u(p)<p?y:o(p)<p?C:a(p)<p?S:r(p)<p?i(p)<p?T:F:n(p)<p?x:_)(p)}return g.invert=function(p){return new Date(l(p))},g.domain=function(p){return arguments.length?f(Array.from(p,aa)):f().map(ia)},g.ticks=function(p){var M=f();return e(M[0],M[M.length-1],p??10)},g.tickFormat=function(p,M){return M==null?k:s(M)},g.nice=function(p){var M=f();return(!p||typeof p.range!="function")&&(p=t(M[0],M[M.length-1],p??10)),p?f(Hr(M,p)):g},g.copy=function(){return an(g,dn(e,t,n,r,i,a,o,u,c,s))},g}function oa(){return ht.apply(dn(ti,ni,Q,vt,Ie,xe,pt,dt,he,gn).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ce(e){return function(){return e}}function sa(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new fr(t)}function ua(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pn(e){this._context=e}pn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ca(e){return new pn(e)}function la(e){return e[0]}function fa(e){return e[1]}function ha(e,t){var n=ce(!0),r=null,i=ca,a=null,o=sa(u);e=typeof e=="function"?e:e===void 0?la:ce(e),t=typeof t=="function"?t:t===void 0?fa:ce(t);function u(c){var s,g=(c=ua(c)).length,l,f=!1,m;for(r==null&&(a=i(m=o())),s=0;s<=g;++s)!(s<g&&n(l=c[s],s,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(l,s,c),+t(l,s,c));if(m)return a=null,m+""||null}return u.x=function(c){return arguments.length?(e=typeof c=="function"?c:ce(+c),u):e},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:ce(+c),u):t},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ce(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}var ga=ut('<div id="legend" class="svelte-4m3c52"></div>');function ma(e,t){qt(t,!0);let n;const r=Qe(t,"keys",19,()=>["a","b","c","d"]),i=Qe(t,"palette",19,()=>["#845EC2","#D65DB1","#FF9671","#FFC75F"]);Xt(()=>{a()});function a(){Se(n).html(null);var u=gt().domain(r()).range(i()),c=Se(n).selectAll(".item").data(r()).enter().append("div").attr("class","itemGrp"),s=c.append("svg").attr("width",85).attr("height",14);s.append("circle").attr("cx",7).attr("cy",7).attr("r",7).style("fill",function(g){return u(g)}),s.append("text").attr("x",20).attr("y",8).style("fill",function(g){return u(g)}).text(function(g){return g}).attr("text-anchor","left").style("alignment-baseline","middle")}var o=ga();Jt(o,u=>n=u,()=>n),st(e,o),Zt()}var da=ut('<div class="canvas svelte-10b9gx4"><h1>Relative Change in Radiance of Major Metropolitan Cities in Africa 2012-2023</h1>  <!> <div id="vis"></div> <p class="caption svelte-10b9gx4">Graphic: Mindy Ng. This visualization was created using d3.js. Read more about the data processing below.</p></div>');function Bt(e,t){qt(t,!0);const n=Qe(t,"excludedValues",19,()=>[]);let r,i=kn(je(["x","y","z"]));xn(()=>console.log("categories update:"+ne(i)));const a=["#960033","#D24261","#ACD7FF","#3175DB","#0046A3","#002A80"];let o=[],u=1500,c=600;const s={top:30,right:20,bottom:30,left:50},g="#919492",l="1.8rem",f=mn("%Y");Xt(()=>{m()});function m(){Se(r).html(null),Tr("/data/YEARLY_AVG_RAD_MINMAX_LONG.csv",T=>({year:f(T.year),city:T.city,avg_rad:+T.avg_rad})).then(function(T){console.log(T);let F=[];T.forEach(w=>F.push(w.year)),console.log(xt(F));const x=xt(F)??new Date(2012,1),_=On(F)??new Date(2023,1);let k=oa().domain([x,_]).range([s.left,u-s.right]),p=sn().domain([0,1]).range([c-s.bottom,s.top]);const M=Se(r).append("svg").attr("width",u).attr("height",c).attr("viewBox",[0,0,u,c]).attr("style","max-width: 100%; height: auto; overflow: visible;"),$=M.append("g").attr("transform",`translate(0,${c-s.bottom})`).call(Kn(k).ticks(u/80).tickSizeOuter(0)).call(w=>w.select(".domain").remove()),V=M.append("g").call(er(p).tickSize(-u)).call(w=>w.select(".domain").remove()).call(w=>w.append("text").attr("x",10).attr("y",30).attr("fill","currentColor").attr("text-anchor","start").text("Relative Radiance Change")).style("font-size",l);V.selectAll("text").style("font-size",l).style("fill",g).attr("dy","-0.5em").attr("dx","1.5em"),$.selectAll("text").style("font-size",l).style("fill",g),V.selectAll("line").style("stroke",g),$.selectAll("line").style("stroke",g);const W=T.map(w=>[w.year,w.avg_rad,w.city]),v=En(W,w=>Object.assign(w,{z:w[0][2]}),w=>w[2]);let Y=Array.from(v.entries()).sort((w,q)=>w[1][11][1]-w[1][0][1]-(q[1][11][1]-q[1][0][1]));Tt(i,je(Y.map(([w])=>w)));let N={};Y.forEach((w,q)=>N[ne(i)[q]]=a[q]),Tt(i,je(ne(i).filter(w=>!n().includes(w)))),ne(i).forEach(w=>o.push(N[w]));var G=gt().domain(ne(i)).range(o);const se=ha().x(w=>k(w[0])).y(w=>p(w[1])),B=M.append("g").attr("fill","none").attr("stroke-width",5).attr("stroke-linejoin","round").attr("stroke-linecap","round").selectAll("path").data(v.values().filter(w=>!n().includes(w[0][2]))).join("path").style("mix-blend-mode","multiply").attr("d",se).attr("stroke",w=>G(w[0][2])),j=M.append("g").attr("display","none");return j.append("circle").attr("r",0),j.append("text").attr("text-anchor","middle").attr("font-size","1.8rem").attr("y",-20),M.on("pointerenter",H).on("pointermove",K).on("pointerleave",Le).on("touchstart",w=>w.preventDefault()),M.node();function K(w){const[q,We]=nr(w),Ue=Gn(W,([ee,d])=>Math.hypot(k(ee)-q,p(d)-We))??0,[Ee,Pe,pe]=W[Ue];B.style("stroke",({z:ee})=>ee===pe?null:"#ddd").filter(({z:ee})=>ee===pe).raise(),j.attr("transform",`translate(${k(Ee)},${p(Pe)})`),j.select("text").text(pe),M.property("value",T[Ue])}function H(){B.style("mix-blend-mode",null).style("stroke","#ddd"),j.attr("display",null)}function Le(){B.style("mix-blend-mode","multiply").style("stroke",null),j.attr("display","none")}})}var y=da(),C=le(Te(y),2);Sn(C,()=>ne(i),T=>{ma(T,{get keys(){return ne(i)},palette:o})});var S=le(C,2);Jt(S,T=>r=T,()=>r),Je(2),be(y),st(e,y),Zt()}var pa=ut(`<main class="svelte-13sw385"><div class="article-cover svelte-13sw385"><img class="cover-photo" src="/assets/SACoverPhoto.png" alt="[Bar chart of hours shed by Eskom by year 2014-2023]"> <p class="source-info svelte-13sw385"><i>Gauteng, South Africa, 2016. (VIIRS DNB)</i></p></div> <div class="article-body svelte-13sw385"><h1>The Dark Divide</h1> <h2>Using nighttime lights to study disparities in energy access amidst the energy crisis in South Africa</h2> <h4>By: Mindy Ng</h4> <h5><i>October 1, 2024</i></h5> <section class="svelte-13sw385"><p class="svelte-13sw385">One of my favorite things about flying at night is looking down on a city from the window and seeing the shape, motion, and pulse of a city illuminated solely by streetlamps, car headlights, and households burning the midnight oil.</p> <p class="svelte-13sw385">There are some pretty incredible insights you can learn about cities just by viewing them from above when it's dark. As the availability and quality of satellite imagery has grown over the past few decades, researchers have been able to use aerial nighttime images to study urban development and economic growth in urban contexts. In general, it has been observed that nighttime lights in major metropolitan cities grow brighter as they experience economic development over time, attributed to the expansion of new infrastructure and overall increased electrification.</p> <p class="svelte-13sw385">The chart below uses satellite-based nighttime lights data (VIIRS day/night band from the National Oceanic and Atmospheric Administration (NOAA)) to show the radiance of four major metropolitan cities in West and East Africa that have grown economically in the last decade: Nairobi, Lagos, Addis Ababa, and Dar Es Salaam.</p></section> <section class="svelte-13sw385"><!></section> <section class="svelte-13sw385"><h3>But what can nighttime lights show us about cities experiencing electricity disruptions?</h3> <p class="svelte-13sw385">Since 2007, South Africa has been experiencing an increasingly worsening energy crisis, largely caused by the national energy supplier, Eskom. Citing failing infrastructure, corruption, and poor management, the country currently experiences rolling blackouts (aka “load shedding”) on a near-daily basis.</p> <div class="article-img-container svelte-13sw385"><img class="article-img svelte-13sw385" src="/assets/SABarChartEskom.png" alt="[Bar chart of hours shed by Eskom by year 2014-2023]"></div> <p class="svelte-13sw385">The first load shedding instances occurred sparsely in 2007/2008 and 2014/2015, but since 2018, the frequency and length of these blackouts have increasingly worsened at an unprecedented rate (Nico, 2023). The bar chart above shows the amount of Gigawatt hours that have been shed each year, revealing that by May, the year 2023 had already seen almost as much load shedding as in all of 2022.</p></section> <section class="svelte-13sw385"><p class="svelte-13sw385">Below, we add the radiance lines for Johannesburg and Cape Town, South Africa's two largest cities. We see that all of the other cities with comparable population growth, GDP, and size, radiance are increasing consistently. Johannesburg and Cape Town follow the same upward trajectory until 2018 (the year then load shedding was implemented at an unprecedented rate), where we start to see a downward trend. The radiance continues to decline each year, corresponding to increasing amounts of loadshedding.</p> <!> <p class="svelte-13sw385">These energy disruptions have led to significant obstacles for South Africa, including a stagnation of GDP growth: These energy disruptions have led to significant obstacles for South Africa, including a stagnation of GDP growth: In 2023, <a href="https://data.worldbank.org/indicator/NY.GDP.MKTP.KD.ZG?locations=ZA" target="_blank" rel="noopener noreferrer">South Africa’s GDP grew 0.6% compared to 4.7% in 2021</a>.
            Small businesses that are unable to afford back up generators lose key hours of business, and have been forced to shut (Mangara and Mutsaa, 2023), further driving up rates of unemployment, which is close to an all time high at <a href="https://www.imf.org/en/News/Articles/2023/06/15/cf-south-africas-economy-loses-momentum-amid-record-power-cuts#:~:text=South%20Africa's%20Economy%20Loses%20Momentum%20Amid%20Record%20Power%20Cuts,-By%20the%20South&amp;text=By%20year%2Dend%2C%20we%20project,to%20an%20all%2Dtime%20high." target="_blank" rel="noopener noreferrer">32.9%</a>. It has <a href="https://inclusivecities.ukzn.ac.za/blog/tri-fold-impact-of-load-shedding-in-south-african-cities-power-outage-destruction-and-regression/" target="_blank" rel="noopener noreferrer">impacts on various sectors</a> that require stable energy to operate, including healthcare, manufacturing, transportation, agriculture, and IT (Mangara and Mutsaa, 2023). It deepens the <a href="https://www.globalcitizen.org/en/content/south-africa-power-cuts-digital-divide-poverty/" target="_blank" rel="noopener noreferrer">digital divide</a>, curtailing access to the internet and technology, which can in turn threaten job security and disrupt education. The use of backup diesel generators are affecting air quality, contributing to the climate crisis and damages to individual health.</p> <p class="svelte-13sw385">While load shedding is supposed to be implemented equitably across the region, evidence suggests these effects are not felt evenly. <a href="https://www.gcro.ac.za/outputs/vignettes/detail/accessing-alternative-water-and-electricity-sources-and-justice/" target="_blank" rel="noopener noreferrer">Who can afford back-up generators? Who can afford to install solar panels?</a> <b>To what extent is the energy crisis is widening the already existing wealth gap and racial divide leftover from apartheid years.</b></p></section> <section class="svelte-13sw385"><h3>Further reading</h3> <p class="svelte-13sw385">In my <a href="https://drive.google.com/file/d/1YBEmzMX9Q9pw6p-kUQRFCj6mnwqJjY6d/view?usp=sharing" target="_blank" rel="noopener noreferrer">Master’s dissertation</a>, I break down the analysis of radiance change across the Gauteng province (where Johannesburg is located) at a more granular level, looking at the effects of average household income, race, and other spatial qualities on radiance change, to understand which areas and which residents are experiencing disproportionate effects of load shedding, and to what extent. I also look at where solar off-griding is occurring to what extent it shields these neighborhoods from experiencing radiance decline.</p> <h4>Preview of visualizations:</h4> <div class="article-img-container svelte-13sw385"><img class="article-img svelte-13sw385" src="/assets/radchangeNEW.png" alt="Radiance Change in Gauteng [2016-2023]"> <img class="article-img svelte-13sw385" src="/assets/radchangetownshipsNEW.png" alt="Radiance Change in Gauteng with former township boundaries overlaid [2016-2023]"> <img class="article-img svelte-13sw385" src="/assets/explorationmaps.svg" alt="Income index, Population, solar panel presence, % of white residents (2020)"></div> <p class="svelte-13sw385">These maps plot various variables including Neighborhood Lifestyle Index (an income-level index, 10 - very high-income, 1 - very low-income), population density, percentage of white residents, and presence of solar panels within hexagonal spatial units with an area of 0.103755 km2. A quick glance at these maps reveals the highly racially and economically segregated nature of Gauteng. The former township boundaries from apartheid very much still exist and correspond heavily with race, income, population density. <b>Overall, we can see that these lower-income, high population density, majority non-white areas – especially those located within former townships – are experiencing the highest degrees of radiance decline from energy disruptions.</b></p></section> <section class="svelte-13sw385"><h3>More about the data:</h3> <p class="svelte-13sw385">This study uses the average radiance band which contains an average of the nightly radiances in that month for each pixel in nanoWatts/sr/cm^2. This study uses monthly composites from January 2016 to April 2023. Images impacted by cloud-cover, stray light, lunar illuminance are filtered out before averaging, meaning that some months' averages may be based on fewer observations than others. Images are taken around 1 or 2 AM each night. To account for seasonal annual cycling fluctuations, a yearly average radiance is calculated using these monthly composites.</p> <p class="svelte-13sw385">Since each city has different starting brightness levels due to factors like population size and development, I adjust the data using a method called min-max normalization. This process scales the brightness for each city between 0 and 1, making it easier to compare how the brightness changes relatively over time for all cities on the same chart.</p></section></div></main>`);function Ca(e){var t=pa(),n=le(Te(t),2),r=le(Te(n),10),i=Te(r);Bt(i,{excludedValues:["Johannesburg","Cape Town"]}),be(r);var a=le(r,4),o=le(Te(a),2);Bt(o,{}),Je(4),be(a),Je(4),be(n),be(t),st(e,t)}export{Ca as component};
